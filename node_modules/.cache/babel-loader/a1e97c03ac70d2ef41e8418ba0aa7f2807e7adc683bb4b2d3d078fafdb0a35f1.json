{"ast":null,"code":"var _jsxFileName = \"/home/lohit/Desktop/SPE_Motor/src/components/Customer_form.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport \"../PatientInfo.css\";\nimport Multiselect from \"multiselect-react-dropdown\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport Navbar_head from './Navbar_head';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Customer_form(props) {\n  _s();\n  const [id, setId] = useState('');\n  const [nump, setVehnum] = useState(\"\");\n  const [vtype, setVehtype] = useState(\"Two-Wheeler\");\n  const [serv, setServices] = useState([\"Cleaning\", \"Deep Cleaning\", \"Painting\", \"Engine Repair\", \"A/C repair\", \"Tyre repair\", \"Changing Oil\"]);\n  const [servf, setServicess] = useState([]);\n  const [remarks, setRemarks] = useState(\"\");\n  const [Add, setAdd] = useState(\"\");\n  const navigate = useNavigate();\n  const {\n    state\n  } = useLocation();\n  const {\n    cust_id,\n    resp\n  } = state;\n  console.log(resp);\n  axios.interceptors.request.use(config => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (user) {\n      const token = 'Bearer ' + user;\n      config.headers.Authorization = token;\n    }\n    return config;\n  });\n  async function save(event) {\n    event.preventDefault();\n    try {\n      await axios.post(`${props.Api}api/customer/${cust_id}`, {\n        vehicleNo: nump,\n        vehicleType: vtype,\n        services: servf,\n        remark: remarks,\n        address: Add\n      });\n      Swal.fire({\n        icon: 'success',\n        text: 'Ticket successfully created',\n        footer: 'OK!!'\n      });\n      // setId(\"\");\n      // setName(\"\");\n      // setAddress(\"\");\n      // setMobile(\"\");\n      navigate(\"/customer\", {\n        state: {\n          cust_id: cust_id,\n          resp: resp\n        }\n      });\n    } catch (err) {\n      console.log(err);\n      Swal.fire({\n        icon: 'error',\n        text: 'Ticket not created!!',\n        footer: 'Try again!!'\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar_head, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Register your Request\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Vehicle Registration Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            placeholder: \"Enter Vehicle Registration Number\",\n            value: nump,\n            onChange: event => {\n              setVehnum(event.target.value);\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Select Vehicle Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: event => {\n              setVehtype(event.target.value);\n            },\n            placeholder: \"Select Vehicle Type\",\n            class: \"form-control\",\n            value: vtype,\n            required: true,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Two-Wheeler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Four-Wheeler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Select Services\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Multiselect, {\n            isObject: false,\n            onRemove: event => {\n              console.log(event);\n              setServicess(event);\n            },\n            onSelect: event => {\n              console.log(event);\n              setServicess(event);\n            },\n            onChange: event => {\n              setServices(event.target.value);\n            },\n            options: serv,\n            selectedValues: [\"Cleaning\"],\n            showCheckbox: true,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Remarks\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            placeholder: \"Enter Remarks\",\n            value: remarks,\n            onChange: event => {\n              setRemarks(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 10\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group\",\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            class: \"form-control\",\n            placeholder: \"Enter Address\",\n            value: Add,\n            onChange: event => {\n              setAdd(event.target.value);\n            },\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"btn btn-primary mt-4\",\n          onClick: save,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 1\n    }, this)\n  }, void 0, false);\n}\n_s(Customer_form, \"EC4InAvORzBcodjQQcV9rzGYD+g=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = Customer_form;\nexport default Customer_form;\nvar _c;\n$RefreshReg$(_c, \"Customer_form\");","map":{"version":3,"names":["React","useEffect","useState","Multiselect","Link","useLocation","useNavigate","axios","Swal","Navbar_head","Customer_form","props","id","setId","nump","setVehnum","vtype","setVehtype","serv","setServices","servf","setServicess","remarks","setRemarks","Add","setAdd","navigate","state","cust_id","resp","console","log","interceptors","request","use","config","user","JSON","parse","localStorage","getItem","token","headers","Authorization","save","event","preventDefault","post","Api","vehicleNo","vehicleType","services","remark","address","fire","icon","text","footer","err","target","value"],"sources":["/home/lohit/Desktop/SPE_Motor/src/components/Customer_form.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport \"../PatientInfo.css\";\nimport Multiselect from \"multiselect-react-dropdown\";\nimport { Link, useLocation, useNavigate,  } from \"react-router-dom\";\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport Navbar_head from './Navbar_head';\n\n\n\n\n\nfunction Customer_form(props){\n\n  const [id, setId] = useState('');\n  const [nump, setVehnum] = useState(\"\");\n  const [vtype, setVehtype] = useState(\"Two-Wheeler\");\n  const [serv, setServices] = useState([\"Cleaning\", \"Deep Cleaning\", \"Painting\",\"Engine Repair\",\"A/C repair\",\"Tyre repair\",\"Changing Oil\"]);\n  const [servf, setServicess] = useState([]);\n  const [remarks, setRemarks] = useState(\"\");\n  const [Add, setAdd] = useState(\"\");\n  const navigate = useNavigate()\n\n  const {state} = useLocation();\n  const {cust_id,resp} = state;\nconsole.log(resp)\n\n\naxios.interceptors.request.use( config => {\n  const user = JSON.parse(localStorage.getItem('user'));\n\n  if(user){\n    const token = 'Bearer ' + user;\n    config.headers.Authorization =  token;\n  }\n  return config;\n});\n\n\n  async function save(event)\n  {\n      event.preventDefault();\n  try\n      {\n       await axios.post(`${props.Api}api/customer/${cust_id}`,\n      {\n      \n      vehicleNo: nump,\n      vehicleType : vtype,\n      services : servf,\n      remark:remarks,\n      address: Add         \n      \n      });\n\n      Swal.fire({\n        icon: 'success',\n        \n        text: 'Ticket successfully created',\n        footer: 'OK!!'\n      })\n        // setId(\"\");\n        // setName(\"\");\n        // setAddress(\"\");\n        // setMobile(\"\");\n    navigate(\"/customer\",{state:{cust_id:cust_id,resp:resp}})\n      \n      \n      }\n  catch(err)\n      {\n        console.log(err)\n        Swal.fire({\n          icon: 'error',\n          \n          text: 'Ticket not created!!',\n          footer: 'Try again!!'\n        })      }\n }\n\n\n \n\n\nreturn(\n<>\n<div class=\"container mt-4\">\n  <Navbar_head/>\n  <h1>Register your Request</h1>\n<form noValidate>\n        <div class=\"form-group\">\n            <label>Vehicle Registration Number</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Enter Vehicle Registration Number\"\n             value={nump}\n             onChange={(event) =>\n               {\n                setVehnum(event.target.value);      \n               }}\n            required/>\n        </div>\n\n\n        <div class=\"form-group\">\n        <label>Select Vehicle Type</label>\n        <select onChange={(event) =>\n              {\n                setVehtype(event.target.value);      \n              }} placeholder='Select Vehicle Type' class=\"form-control\" value={vtype}  required>\n          <option>Two-Wheeler</option>\n          <option>Four-Wheeler</option>\n        </select>\n        </div>\n\n        <div class=\"form-group\">\n            <label>Select Services</label>\n            <Multiselect\n        isObject={false}\n        onRemove={(event) => {\n          console.log(event);\n          setServicess(event)\n        }}\n        onSelect={(event) => {\n          console.log(event);\n          setServicess(event)\n        }}\n\n        onChange={(event) =>\n          {\n            setServices(event.target.value);      \n          }}\n        options={serv}\n        selectedValues={[\"Cleaning\"]}\n        showCheckbox\n      required/>\n         </div> \n      \n         <div class=\"form-group\">\n            <label>Remarks</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Enter Remarks\"\n            value={remarks}\n            onChange={(event) =>\n              {\n                setRemarks(event.target.value);      \n              }}\n           />\n        </div>  \n\n        <div class=\"form-group\" required>\n            <label>Address</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Enter Address\"\n            value={Add}\n            onChange={(event) =>\n              {\n                setAdd(event.target.value);      \n              }}\n           required />\n        </div>\n        \n        <button class=\"btn btn-primary mt-4\"  onClick={save} >Register</button>\n        </form>\n\n\n</div>\n\n</>\n);\n    \n      \n    \n  }\n  \n  export default Customer_form;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}